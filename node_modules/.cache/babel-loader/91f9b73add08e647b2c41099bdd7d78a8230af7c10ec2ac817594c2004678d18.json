{"ast":null,"code":"import axios from\"axios\";import React,{useState,useEffect}from\"react\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Payments=()=>{const[form,setForm]=useState({loanId:\"\",amount:\"\"});const[loans,setLoans]=useState([]);const[message,setMessage]=useState(\"\");useEffect(()=>{const fetchLoans=async()=>{try{const response=await axios.get(\"http://localhost:5000/api/loans\");setLoans(response.data);}catch(error){console.error(\"Error fetching loans:\",error);}};fetchLoans();},[]);const handleChange=e=>{setForm({...form,[e.target.name]:e.target.value});};const handleSubmit=async e=>{e.preventDefault();try{await axios.post(\"http://localhost:5000/api/payments\",form);setMessage(\"Pago registrado con éxito.\");}catch(error){setMessage(\"Error al registrar el pago.\");}};const getClientName=loan=>{if(loan&&loan.clientId){const{name,email}=loan.clientId;return\"\".concat(name,\" (\").concat(email,\")\");}return\"Indefinido (no definido)\";};return/*#__PURE__*/_jsxs(\"div\",{className:\"container mt-5\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"jumbotron text-center\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"display-4\",children:\"Registro de Pagos\"}),/*#__PURE__*/_jsx(\"p\",{className:\"lead\",children:\"Complete el formulario para registrar un pago\"})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"loanId\",className:\"form-label\",children:\"Pr\\xE9stamo\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"form-control\",id:\"loanId\",name:\"loanId\",value:form.loanId,onChange:handleChange,required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Seleccione un pr\\xE9stamo\"}),loans.map(loan=>/*#__PURE__*/_jsxs(\"option\",{value:loan._id,children:[getClientName(loan),\" - Monto: \",loan.amount]},loan._id))]})]}),form.loanId&&/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Cliente\"}),/*#__PURE__*/_jsx(\"p\",{children:getClientName(loans.find(loan=>loan._id===form.loanId))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"amount\",className:\"form-label\",children:\"Monto\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",className:\"form-control\",id:\"amount\",name:\"amount\",value:form.amount,onChange:handleChange,required:true})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",children:\"Registrar Pago\"}),message&&/*#__PURE__*/_jsx(\"p\",{children:message})]})]});};export default Payments;/*import axios from \"axios\";\r\nimport React, { useState, useEffect } from \"react\";\r\n\r\nconst Payments = () => {\r\n  const [form, setForm] = useState({\r\n    loanId: \"\",\r\n    amount: \"\",\r\n  });\r\n  const [loans, setLoans] = useState([]);\r\n  const [message, setMessage] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    const fetchLoans = async () => {\r\n      try {\r\n        const response = await axios.get(`http://localhost:5000/api/loans`);\r\n        setLoans(response.data);\r\n      } catch (error) {\r\n        console.error(\"Error fetching loans:\", error);\r\n      }\r\n    };\r\n\r\n    fetchLoans();\r\n  }, []);\r\n\r\n  const handleChange = (e) => {\r\n    setForm({\r\n      ...form,\r\n      [e.target.name]: e.target.value,\r\n    });\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      await axios.post(`http://localhost:5000/api/payments`, form);\r\n      setMessage(\"Pago registrado con éxito.\");\r\n    } catch (error) {\r\n      setMessage(\"Error al registrar el pago.\");\r\n    }\r\n  };\r\n\r\n  const getClientName = (loan) => {\r\n    if (loan && loan.clientId) {\r\n      const { name, email } = loan.clientId;\r\n      return `${name} (${email})`;\r\n    }\r\n    return \"Indefinido (no definido)\";\r\n  };\r\n\r\n  return (\r\n    <div className=\"container mt-5\">\r\n      <div className=\"jumbotron text-center\">\r\n        <h1 className=\"display-4\">Registro de Pagos</h1>\r\n        <p className=\"lead\">Complete el formulario para registrar un pago</p>\r\n      </div>\r\n      <form onSubmit={handleSubmit}>\r\n        <div className=\"mb-3\">\r\n          <label htmlFor=\"loanId\" className=\"form-label\">\r\n            Préstamo\r\n          </label>\r\n          <select\r\n            className=\"form-control\"\r\n            id=\"loanId\"\r\n            name=\"loanId\"\r\n            value={form.loanId}\r\n            onChange={handleChange}\r\n            required\r\n          >\r\n            <option value=\"\">Seleccione un préstamo</option>\r\n            {loans.map((loan) => (\r\n              <option key={loan._id} value={loan._id}>\r\n                {getClientName(loan)} - Monto: {loan.amount}\r\n              </option>\r\n            ))}\r\n          </select>\r\n        </div>\r\n        {form.loanId && (\r\n          <div className=\"mb-3\">\r\n            <label>Cliente</label>\r\n            <p>\r\n              {getClientName(loans.find((loan) => loan._id === form.loanId))}\r\n            </p>\r\n          </div>\r\n        )}\r\n        <div className=\"mb-3\">\r\n          <label htmlFor=\"amount\" className=\"form-label\">\r\n            Monto\r\n          </label>\r\n          <input\r\n            type=\"number\"\r\n            className=\"form-control\"\r\n            id=\"amount\"\r\n            name=\"amount\"\r\n            value={form.amount}\r\n            onChange={handleChange}\r\n            required\r\n          />\r\n        </div>\r\n        <button type=\"submit\" className=\"btn btn-primary\">\r\n          Registrar Pago\r\n        </button>\r\n        {message && <p>{message}</p>}\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Payments;\r\n\r\n*/","map":{"version":3,"names":["axios","React","useState","useEffect","jsx","_jsx","jsxs","_jsxs","Payments","form","setForm","loanId","amount","loans","setLoans","message","setMessage","fetchLoans","response","get","data","error","console","handleChange","e","target","name","value","handleSubmit","preventDefault","post","getClientName","loan","clientId","email","concat","className","children","onSubmit","htmlFor","id","onChange","required","map","_id","find","type"],"sources":["D:/Usuario/wilme/Escritorio/Gestion_Loans_Clean/loan-app-ui/src/components/Payments.js"],"sourcesContent":["import axios from \"axios\";\r\nimport React, { useState, useEffect } from \"react\";\r\n\r\nconst Payments = () => {\r\n  const [form, setForm] = useState({\r\n    loanId: \"\",\r\n    amount: \"\",\r\n  });\r\n  const [loans, setLoans] = useState([]);\r\n  const [message, setMessage] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    const fetchLoans = async () => {\r\n      try {\r\n        const response = await axios.get(`http://localhost:5000/api/loans`);\r\n        setLoans(response.data);\r\n      } catch (error) {\r\n        console.error(\"Error fetching loans:\", error);\r\n      }\r\n    };\r\n\r\n    fetchLoans();\r\n  }, []);\r\n\r\n  const handleChange = (e) => {\r\n    setForm({\r\n      ...form,\r\n      [e.target.name]: e.target.value,\r\n    });\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      await axios.post(`http://localhost:5000/api/payments`, form);\r\n      setMessage(\"Pago registrado con éxito.\");\r\n    } catch (error) {\r\n      setMessage(\"Error al registrar el pago.\");\r\n    }\r\n  };\r\n\r\n  const getClientName = (loan) => {\r\n    if (loan && loan.clientId) {\r\n      const { name, email } = loan.clientId;\r\n      return `${name} (${email})`;\r\n    }\r\n    return \"Indefinido (no definido)\";\r\n  };\r\n\r\n  return (\r\n    <div className=\"container mt-5\">\r\n      <div className=\"jumbotron text-center\">\r\n        <h1 className=\"display-4\">Registro de Pagos</h1>\r\n        <p className=\"lead\">Complete el formulario para registrar un pago</p>\r\n      </div>\r\n      <form onSubmit={handleSubmit}>\r\n        <div className=\"mb-3\">\r\n          <label htmlFor=\"loanId\" className=\"form-label\">\r\n            Préstamo\r\n          </label>\r\n          <select\r\n            className=\"form-control\"\r\n            id=\"loanId\"\r\n            name=\"loanId\"\r\n            value={form.loanId}\r\n            onChange={handleChange}\r\n            required\r\n          >\r\n            <option value=\"\">Seleccione un préstamo</option>\r\n            {loans.map((loan) => (\r\n              <option key={loan._id} value={loan._id}>\r\n                {getClientName(loan)} - Monto: {loan.amount}\r\n              </option>\r\n            ))}\r\n          </select>\r\n        </div>\r\n        {form.loanId && (\r\n          <div className=\"mb-3\">\r\n            <label>Cliente</label>\r\n            <p>\r\n              {getClientName(loans.find((loan) => loan._id === form.loanId))}\r\n            </p>\r\n          </div>\r\n        )}\r\n        <div className=\"mb-3\">\r\n          <label htmlFor=\"amount\" className=\"form-label\">\r\n            Monto\r\n          </label>\r\n          <input\r\n            type=\"number\"\r\n            className=\"form-control\"\r\n            id=\"amount\"\r\n            name=\"amount\"\r\n            value={form.amount}\r\n            onChange={handleChange}\r\n            required\r\n          />\r\n        </div>\r\n        <button type=\"submit\" className=\"btn btn-primary\">\r\n          Registrar Pago\r\n        </button>\r\n        {message && <p>{message}</p>}\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Payments;\r\n\r\n\r\n/*import axios from \"axios\";\r\nimport React, { useState, useEffect } from \"react\";\r\n\r\nconst Payments = () => {\r\n  const [form, setForm] = useState({\r\n    loanId: \"\",\r\n    amount: \"\",\r\n  });\r\n  const [loans, setLoans] = useState([]);\r\n  const [message, setMessage] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    const fetchLoans = async () => {\r\n      try {\r\n        const response = await axios.get(`http://localhost:5000/api/loans`);\r\n        setLoans(response.data);\r\n      } catch (error) {\r\n        console.error(\"Error fetching loans:\", error);\r\n      }\r\n    };\r\n\r\n    fetchLoans();\r\n  }, []);\r\n\r\n  const handleChange = (e) => {\r\n    setForm({\r\n      ...form,\r\n      [e.target.name]: e.target.value,\r\n    });\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      await axios.post(`http://localhost:5000/api/payments`, form);\r\n      setMessage(\"Pago registrado con éxito.\");\r\n    } catch (error) {\r\n      setMessage(\"Error al registrar el pago.\");\r\n    }\r\n  };\r\n\r\n  const getClientName = (loan) => {\r\n    if (loan && loan.clientId) {\r\n      const { name, email } = loan.clientId;\r\n      return `${name} (${email})`;\r\n    }\r\n    return \"Indefinido (no definido)\";\r\n  };\r\n\r\n  return (\r\n    <div className=\"container mt-5\">\r\n      <div className=\"jumbotron text-center\">\r\n        <h1 className=\"display-4\">Registro de Pagos</h1>\r\n        <p className=\"lead\">Complete el formulario para registrar un pago</p>\r\n      </div>\r\n      <form onSubmit={handleSubmit}>\r\n        <div className=\"mb-3\">\r\n          <label htmlFor=\"loanId\" className=\"form-label\">\r\n            Préstamo\r\n          </label>\r\n          <select\r\n            className=\"form-control\"\r\n            id=\"loanId\"\r\n            name=\"loanId\"\r\n            value={form.loanId}\r\n            onChange={handleChange}\r\n            required\r\n          >\r\n            <option value=\"\">Seleccione un préstamo</option>\r\n            {loans.map((loan) => (\r\n              <option key={loan._id} value={loan._id}>\r\n                {getClientName(loan)} - Monto: {loan.amount}\r\n              </option>\r\n            ))}\r\n          </select>\r\n        </div>\r\n        {form.loanId && (\r\n          <div className=\"mb-3\">\r\n            <label>Cliente</label>\r\n            <p>\r\n              {getClientName(loans.find((loan) => loan._id === form.loanId))}\r\n            </p>\r\n          </div>\r\n        )}\r\n        <div className=\"mb-3\">\r\n          <label htmlFor=\"amount\" className=\"form-label\">\r\n            Monto\r\n          </label>\r\n          <input\r\n            type=\"number\"\r\n            className=\"form-control\"\r\n            id=\"amount\"\r\n            name=\"amount\"\r\n            value={form.amount}\r\n            onChange={handleChange}\r\n            required\r\n          />\r\n        </div>\r\n        <button type=\"submit\" className=\"btn btn-primary\">\r\n          Registrar Pago\r\n        </button>\r\n        {message && <p>{message}</p>}\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Payments;\r\n\r\n*/"],"mappings":"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IAAI,EAAKA,IAAI,CAACY,GAAG,GAAKnC,IAAI,CAACE,MAAM,CAAC,CAAC,CAC7D,CAAC,EACD,CACN,cACDJ,KAAA,QAAK6B,SAAS,CAAC,MAAM,CAAAC,QAAA,eACnBhC,IAAA,UAAOkC,OAAO,CAAC,QAAQ,CAACH,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAC,OAE/C,CAAO,CAAC,cACRhC,IAAA,UACEyC,IAAI,CAAC,QAAQ,CACbV,SAAS,CAAC,cAAc,CACxBI,EAAE,CAAC,QAAQ,CACXd,IAAI,CAAC,QAAQ,CACbC,KAAK,CAAElB,IAAI,CAACG,MAAO,CACnB6B,QAAQ,CAAElB,YAAa,CACvBmB,QAAQ,MACT,CAAC,EACC,CAAC,cACNrC,IAAA,WAAQyC,IAAI,CAAC,QAAQ,CAACV,SAAS,CAAC,iBAAiB,CAAAC,QAAA,CAAC,gBAElD,CAAQ,CAAC,CACRtB,OAAO,eAAIV,IAAA,MAAAgC,QAAA,CAAItB,OAAO,CAAI,CAAC,EACxB,CAAC,EACJ,CAAC,CAEV,CAAC,CAED,cAAe,CAAAP,QAAQ,CAGvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}