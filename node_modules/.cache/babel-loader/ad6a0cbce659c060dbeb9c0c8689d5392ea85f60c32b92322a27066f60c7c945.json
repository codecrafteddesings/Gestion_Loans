{"ast":null,"code":"var _jsxFileName = \"D:\\\\Usuario\\\\wilme\\\\Escritorio\\\\Nueva carpeta\\\\loan-app\\\\loan-app-ui\\\\src\\\\components\\\\Dashboard.js\",\n  _s = $RefreshSig$();\n// src/components/Dashboard.js\nimport React, { useState, useEffect, useCallback } from 'react';\nimport { Chart } from 'chart.js';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Dashboard = () => {\n  _s();\n  const [loans, setLoans] = useState([]);\n  const [payments, setPayments] = useState([]);\n  const [statistics, setStatistics] = useState({});\n  const [token, setToken] = useState('');\n  const fetchData = useCallback(async () => {\n    const headers = {\n      'x-auth-token': token\n    };\n    try {\n      const responseLoans = await fetch('/api/reports/loans', {\n        headers\n      });\n      const loansData = await responseLoans.json();\n      setLoans(loansData);\n      const responsePayments = await fetch('/api/reports/payments', {\n        headers\n      });\n      const paymentsData = await responsePayments.json();\n      setPayments(paymentsData);\n      const responseStatistics = await fetch('/api/reports/statistics', {\n        headers\n      });\n      const statisticsData = await responseStatistics.json();\n      setStatistics(statisticsData);\n      createCharts(loansData, paymentsData);\n    } catch (error) {\n      console.error('Error fetching data:', error);\n    }\n  }, [token]);\n  useEffect(() => {\n    if (token) {\n      fetchData();\n    }\n  }, [token, fetchData]);\n  const createCharts = (loansData, paymentsData) => {\n    const loansChartCtx = document.getElementById('loansChart').getContext('2d');\n    const paymentsChartCtx = document.getElementById('paymentsChart').getContext('2d');\n    new Chart(loansChartCtx, {\n      type: 'bar',\n      data: {\n        labels: loansData.map(loan => loan.borrower.name),\n        datasets: [{\n          label: 'Loan Amount',\n          data: loansData.map(loan => loan.amount),\n          backgroundColor: 'rgba(75, 192, 192, 0.2)',\n          borderColor: 'rgba(75, 192, 192, 1)',\n          borderWidth: 1\n        }]\n      },\n      options: {\n        scales: {\n          y: {\n            beginAtZero: true\n          }\n        }\n      }\n    });\n    new Chart(paymentsChartCtx, {\n      type: 'line',\n      data: {\n        labels: paymentsData.map(payment => new Date(payment.paymentDate).toLocaleDateString()),\n        datasets: [{\n          label: 'Payment Amount',\n          data: paymentsData.map(payment => payment.amount),\n          backgroundColor: 'rgba(153, 102, 255, 0.2)',\n          borderColor: 'rgba(153, 102, 255, 1)',\n          borderWidth: 1\n        }]\n      },\n      options: {\n        scales: {\n          y: {\n            beginAtZero: true\n          }\n        }\n      }\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Dashboard\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      placeholder: \"Enter JWT Token\",\n      value: token,\n      onChange: e => setToken(e.target.value),\n      style: {\n        width: '300px',\n        padding: '10px'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: fetchData,\n      children: \"Fetch Data\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"canvas\", {\n      id: \"loansChart\",\n      width: \"400\",\n      height: \"200\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"canvas\", {\n      id: \"paymentsChart\",\n      width: \"400\",\n      height: \"200\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 87,\n    columnNumber: 9\n  }, this);\n};\n_s(Dashboard, \"pbnPUFJQrNUouf/pTeVrCm9WJew=\");\n_c = Dashboard;\nexport default Dashboard;\nvar _c;\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","Chart","jsxDEV","_jsxDEV","Dashboard","_s","loans","setLoans","payments","setPayments","statistics","setStatistics","token","setToken","fetchData","headers","responseLoans","fetch","loansData","json","responsePayments","paymentsData","responseStatistics","statisticsData","createCharts","error","console","loansChartCtx","document","getElementById","getContext","paymentsChartCtx","type","data","labels","map","loan","borrower","name","datasets","label","amount","backgroundColor","borderColor","borderWidth","options","scales","y","beginAtZero","payment","Date","paymentDate","toLocaleDateString","className","children","fileName","_jsxFileName","lineNumber","columnNumber","placeholder","value","onChange","e","target","style","width","padding","onClick","id","height","_c","$RefreshReg$"],"sources":["D:/Usuario/wilme/Escritorio/Nueva carpeta/loan-app/loan-app-ui/src/components/Dashboard.js"],"sourcesContent":["// src/components/Dashboard.js\r\nimport React, { useState, useEffect, useCallback } from 'react';\r\nimport { Chart } from 'chart.js';\r\n\r\nconst Dashboard = () => {\r\n    const [loans, setLoans] = useState([]);\r\n    const [payments, setPayments] = useState([]);\r\n    const [statistics, setStatistics] = useState({});\r\n    const [token, setToken] = useState('');\r\n\r\n    const fetchData = useCallback(async () => {\r\n        const headers = { 'x-auth-token': token };\r\n\r\n        try {\r\n            const responseLoans = await fetch('/api/reports/loans', { headers });\r\n            const loansData = await responseLoans.json();\r\n            setLoans(loansData);\r\n\r\n            const responsePayments = await fetch('/api/reports/payments', { headers });\r\n            const paymentsData = await responsePayments.json();\r\n            setPayments(paymentsData);\r\n\r\n            const responseStatistics = await fetch('/api/reports/statistics', { headers });\r\n            const statisticsData = await responseStatistics.json();\r\n            setStatistics(statisticsData);\r\n\r\n            createCharts(loansData, paymentsData);\r\n        } catch (error) {\r\n            console.error('Error fetching data:', error);\r\n        }\r\n    }, [token]);\r\n\r\n    useEffect(() => {\r\n        if (token) {\r\n            fetchData();\r\n        }\r\n    }, [token, fetchData]);\r\n\r\n    const createCharts = (loansData, paymentsData) => {\r\n        const loansChartCtx = document.getElementById('loansChart').getContext('2d');\r\n        const paymentsChartCtx = document.getElementById('paymentsChart').getContext('2d');\r\n\r\n        new Chart(loansChartCtx, {\r\n            type: 'bar',\r\n            data: {\r\n                labels: loansData.map(loan => loan.borrower.name),\r\n                datasets: [{\r\n                    label: 'Loan Amount',\r\n                    data: loansData.map(loan => loan.amount),\r\n                    backgroundColor: 'rgba(75, 192, 192, 0.2)',\r\n                    borderColor: 'rgba(75, 192, 192, 1)',\r\n                    borderWidth: 1\r\n                }]\r\n            },\r\n            options: {\r\n                scales: {\r\n                    y: {\r\n                        beginAtZero: true\r\n                    }\r\n                }\r\n            }\r\n        });\r\n\r\n        new Chart(paymentsChartCtx, {\r\n            type: 'line',\r\n            data: {\r\n                labels: paymentsData.map(payment => new Date(payment.paymentDate).toLocaleDateString()),\r\n                datasets: [{\r\n                    label: 'Payment Amount',\r\n                    data: paymentsData.map(payment => payment.amount),\r\n                    backgroundColor: 'rgba(153, 102, 255, 0.2)',\r\n                    borderColor: 'rgba(153, 102, 255, 1)',\r\n                    borderWidth: 1\r\n                }]\r\n            },\r\n            options: {\r\n                scales: {\r\n                    y: {\r\n                        beginAtZero: true\r\n                    }\r\n                }\r\n            }\r\n        });\r\n    };\r\n\r\n    return (\r\n        <div className=\"container\">\r\n            <h1>Dashboard</h1>\r\n            <input\r\n                type=\"text\"\r\n                placeholder=\"Enter JWT Token\"\r\n                value={token}\r\n                onChange={(e) => setToken(e.target.value)}\r\n                style={{ width: '300px', padding: '10px' }}\r\n            />\r\n            <button onClick={fetchData}>Fetch Data</button>\r\n            <canvas id=\"loansChart\" width=\"400\" height=\"200\"></canvas>\r\n            <canvas id=\"paymentsChart\" width=\"400\" height=\"200\"></canvas>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Dashboard;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}